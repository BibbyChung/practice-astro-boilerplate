import{m as $,n as j,o as S,h as N,q as ee,u as re,g as L,v as ne,w as ae,H as se,x as F,y as H,z as R,C as ue,A as le,B as V,D as te,E as fe,F as ie,G as z,I as X,J as G,K as ve,L as de,M as J,O as ce,P as oe,Q as _e,R as O,S as K,T as he,U as be,V as pe,W as Ee,X as me,Y,Z as Te,l as ge,_ as Ie,$ as we}from"./template.BwRErViD.js";function ye(r,n){return n}function xe(r,n,e){for(var a=r.items,f=[],i=n.length,d=0;d<i;d++)be(n[d].e,f,!0);var h=i>0&&f.length===0&&e!==null;if(h){var E=e.parentNode;pe(E),E.append(e),a.clear(),I(r,n[0].prev,n[i-1].next)}Ee(f,()=>{for(var _=0;_<i;_++){var p=n[_];h||(a.delete(p.k),I(r,p.prev,p.next)),K(p.e,!h)}})}function Ce(r,n,e,a,f,i=null){var d=r,h={flags:n,items:new Map,first:null};{var E=r;d=N?S(ee(E)):E.appendChild($())}N&&re();var _=null,p=!1,A=new Map,s=ne(()=>{var t=e();return ve(t)?t:t==null?[]:G(t)}),o,u;function l(){Ae(u,o,h,A,d,f,n,a,e),i!==null&&(o.length===0?_?J(_):_=V(()=>i(d)):_!==null&&ce(_,()=>{_=null}))}j(()=>{u??=me,o=L(s);var t=o.length;if(p&&t===0)return;p=t===0;let x=!1;if(N){var T=ae(d)===se;T!==(t===0)&&(d=F(),S(d),H(!1),x=!0)}if(N){for(var v=null,b,c=0;c<t;c++){if(R.nodeType===ue&&R.data===le){d=R,x=!0,H(!1);break}var w=o[c],g=a(w,c);b=q(R,h,v,null,w,g,c,f,n,e),h.items.set(g,b),v=b}t>0&&S(F())}if(N)t===0&&i&&(_=V(()=>i(d)));else if(te()){var M=new Set,m=fe;for(c=0;c<t;c+=1){w=o[c],g=a(w,c);var y=h.items.get(g)??A.get(g);y?P(y,w,c):(b=q(null,h,null,null,w,g,c,f,n,e,!0),A.set(g,b)),M.add(g)}for(const[C,D]of h.items)M.has(C)||m.skipped_effects.add(D.e);m.add_callback(l)}else l();x&&H(!0),L(s)}),N&&(d=R)}function Ae(r,n,e,a,f,i,d,h,E){var _=n.length,p=e.items,A=e.first,s=A,o,u=null,l=[],t=[],x,T,v,b;for(b=0;b<_;b+=1){if(x=n[b],T=h(x,b),v=p.get(T),v===void 0){var c=a.get(T);if(c!==void 0){a.delete(T),p.set(T,c);var w=u?u.next:s;I(e,u,c),I(e,c,w),U(c,w,f),u=c}else{var g=s?s.e.nodes_start:f;u=q(g,e,u,u===null?e.first:u.next,x,T,b,i,d,E)}p.set(T,u),l=[],t=[],s=u.next;continue}if(P(v,x,b),(v.e.f&O)!==0&&J(v.e),v!==s){if(o!==void 0&&o.has(v)){if(l.length<t.length){var M=t[0],m;u=M.prev;var y=l[0],C=l[l.length-1];for(m=0;m<l.length;m+=1)U(l[m],M,f);for(m=0;m<t.length;m+=1)o.delete(t[m]);I(e,y.prev,C.next),I(e,u,y),I(e,C,M),s=M,u=C,b-=1,l=[],t=[]}else o.delete(v),U(v,s,f),I(e,v.prev,v.next),I(e,v,u===null?e.first:u.next),I(e,u,v),u=v;continue}for(l=[],t=[];s!==null&&s.k!==T;)(s.e.f&O)===0&&(o??=new Set).add(s),t.push(s),s=s.next;if(s===null)continue;v=s}l.push(v),u=v,s=v.next}if(s!==null||o!==void 0){for(var D=o===void 0?[]:G(o);s!==null;)(s.e.f&O)===0&&D.push(s),s=s.next;var W=D.length;if(W>0){var Z=_===0?f:null;xe(e,D,Z)}}r.first=e.first&&e.first.e,r.last=u&&u.e;for(var k of a.values())K(k.e);a.clear()}function P(r,n,e,a){ie(r.v,n),r.i=e}function q(r,n,e,a,f,i,d,h,E,_,p){var A=(E&oe)!==0,s=(E&_e)===0,o=A?s?z(f,!1,!1):X(f):f,u=(E&de)===0?d:X(d),l={i:u,v:o,k:i,a:null,e:null,prev:e,next:a};try{if(r===null){var t=document.createDocumentFragment();t.append(r=$())}return l.e=V(()=>h(r,o,u,_),N),l.e.prev=e&&e.e,l.e.next=a&&a.e,e===null?p||(n.first=l):(e.next=l,e.e.next=l.e),a!==null&&(a.prev=l,a.e.prev=l.e),l}finally{}}function U(r,n,e){for(var a=r.next?r.next.e.nodes_start:e,f=n?n.e.nodes_start:e,i=r.e.nodes_start;i!==null&&i!==a;){var d=he(i);f.before(i),i=d}}function I(r,n,e){n===null?r.first=e:(n.next=e,n.e.next=e&&e.e),e!==null&&(e.prev=n,e.e.prev=n&&n.e)}function Q(r,n,e){if(r==null)return n(void 0),Y;const a=Te(()=>r.subscribe(n,e));return a.unsubscribe?()=>a.unsubscribe():a}function Me(r){let n;return Q(r,e=>n=e)(),n}let B=Symbol();function De(r,n,e){const a=e[n]??={store:null,source:z(void 0),unsubscribe:Y};if(a.store!==r&&!(B in e))if(a.unsubscribe(),a.store=r??null,r==null)a.source.v=void 0,a.unsubscribe=Y;else{var f=!0;a.unsubscribe=Q(r,i=>{f?a.source.v=i:we(a.source,i)}),f=!1}return r&&B in e?Me(r):L(a.source)}function Re(){const r={};function n(){ge(()=>{for(var e in r)r[e].unsubscribe();Ie(r,B,{enumerable:!1,value:!0})})}return[r,n]}export{De as a,Ce as e,ye as i,Re as s};
