import{o as $,h as j,m as S,i as M,R as ee,j as re,g as V,S as ae,k as ne,H as se,l as L,n as H,y as R,T as ue,V as le,q as Y,v as te,u as fe,W as ie,G,X,Y as K,Z as ve,_ as de,w as W,x as ce,$ as oe,a0 as _e,a1 as O,a2 as Z,a3 as he,a4 as be,a5 as pe,a6 as me,a7 as Ee,a8 as q,B as Te,K as ge,a9 as we,F as xe}from"./template.CAJb6BCw.js";function ye(r,a){return a}function Ie(r,a,e){for(var n=r.items,f=[],i=a.length,d=0;d<i;d++)be(a[d].e,f,!0);var h=i>0&&f.length===0&&e!==null;if(h){var m=e.parentNode;pe(m),m.append(e),n.clear(),w(r,a[0].prev,a[i-1].next)}me(f,()=>{for(var _=0;_<i;_++){var p=a[_];h||(n.delete(p.k),w(r,p.prev,p.next)),Z(p.e,!h)}})}function Ce(r,a,e,n,f,i=null){var d=r,h={flags:a,items:new Map,first:null};{var m=r;d=M?S(ee(m)):m.appendChild($())}M&&re();var _=null,p=!1,N=new Map,s=ae(()=>{var t=e();return ve(t)?t:t==null?[]:K(t)}),o,u;function l(){Ne(u,o,h,N,d,f,a,n,e),i!==null&&(o.length===0?_?W(_):_=Y(()=>i(d)):_!==null&&ce(_,()=>{_=null}))}j(()=>{u??=Ee,o=V(s);var t=o.length;if(p&&t===0)return;p=t===0;let I=!1;if(M){var T=ne(d)===se;T!==(t===0)&&(d=L(),S(d),H(!1),I=!0)}if(M){for(var v=null,b,c=0;c<t;c++){if(R.nodeType===ue&&R.data===le){d=R,I=!0,H(!1);break}var x=o[c],g=n(x,c);b=B(R,h,v,null,x,g,c,f,a,e),h.items.set(g,b),v=b}t>0&&S(L())}if(M)t===0&&i&&(_=Y(()=>i(d)));else if(te()){var A=new Set,E=fe;for(c=0;c<t;c+=1){x=o[c],g=n(x,c);var y=h.items.get(g)??N.get(g);y?z(y,x,c):(b=B(null,h,null,null,x,g,c,f,a,e,!0),N.set(g,b)),A.add(g)}for(const[C,D]of h.items)A.has(C)||E.skipped_effects.add(D.e);E.add_callback(l)}else l();I&&H(!0),V(s)}),M&&(d=R)}function Ne(r,a,e,n,f,i,d,h,m){var _=a.length,p=e.items,N=e.first,s=N,o,u=null,l=[],t=[],I,T,v,b;for(b=0;b<_;b+=1){if(I=a[b],T=h(I,b),v=p.get(T),v===void 0){var c=n.get(T);if(c!==void 0){n.delete(T),p.set(T,c);var x=u?u.next:s;w(e,u,c),w(e,c,x),U(c,x,f),u=c}else{var g=s?s.e.nodes_start:f;u=B(g,e,u,u===null?e.first:u.next,I,T,b,i,d,m)}p.set(T,u),l=[],t=[],s=u.next;continue}if(z(v,I,b),(v.e.f&O)!==0&&W(v.e),v!==s){if(o!==void 0&&o.has(v)){if(l.length<t.length){var A=t[0],E;u=A.prev;var y=l[0],C=l[l.length-1];for(E=0;E<l.length;E+=1)U(l[E],A,f);for(E=0;E<t.length;E+=1)o.delete(t[E]);w(e,y.prev,C.next),w(e,u,y),w(e,C,A),s=A,u=C,b-=1,l=[],t=[]}else o.delete(v),U(v,s,f),w(e,v.prev,v.next),w(e,v,u===null?e.first:u.next),w(e,u,v),u=v;continue}for(l=[],t=[];s!==null&&s.k!==T;)(s.e.f&O)===0&&(o??=new Set).add(s),t.push(s),s=s.next;if(s===null)continue;v=s}l.push(v),u=v,s=v.next}if(s!==null||o!==void 0){for(var D=o===void 0?[]:K(o);s!==null;)(s.e.f&O)===0&&D.push(s),s=s.next;var P=D.length;if(P>0){var Q=_===0?f:null;Ie(e,D,Q)}}r.first=e.first&&e.first.e,r.last=u&&u.e;for(var k of n.values())Z(k.e);n.clear()}function z(r,a,e,n){ie(r.v,a),r.i=e}function B(r,a,e,n,f,i,d,h,m,_,p){var N=(m&oe)!==0,s=(m&_e)===0,o=N?s?G(f,!1,!1):X(f):f,u=(m&de)===0?d:X(d),l={i:u,v:o,k:i,a:null,e:null,prev:e,next:n};try{if(r===null){var t=document.createDocumentFragment();t.append(r=$())}return l.e=Y(()=>h(r,o,u,_),M),l.e.prev=e&&e.e,l.e.next=n&&n.e,e===null?p||(a.first=l):(e.next=l,e.e.next=l.e),n!==null&&(n.prev=l,n.e.prev=l.e),l}finally{}}function U(r,a,e){for(var n=r.next?r.next.e.nodes_start:e,f=a?a.e.nodes_start:e,i=r.e.nodes_start;i!==null&&i!==n;){var d=he(i);f.before(i),i=d}}function w(r,a,e){a===null?r.first=e:(a.next=e,a.e.next=e&&e.e),e!==null&&(e.prev=a,e.e.prev=a&&a.e)}function J(r,a,e){if(r==null)return a(void 0),q;const n=Te(()=>r.subscribe(a,e));return n.unsubscribe?()=>n.unsubscribe():n}function Ae(r){let a;return J(r,e=>a=e)(),a}let F=Symbol();function De(r,a,e){const n=e[a]??={store:null,source:G(void 0),unsubscribe:q};if(n.store!==r&&!(F in e))if(n.unsubscribe(),n.store=r??null,r==null)n.source.v=void 0,n.unsubscribe=q;else{var f=!0;n.unsubscribe=J(r,i=>{f?n.source.v=i:xe(n.source,i)}),f=!1}return r&&F in e?Ae(r):V(n.source)}function Re(){const r={};function a(){ge(()=>{for(var e in r)r[e].unsubscribe();we(r,F,{enumerable:!1,value:!0})})}return[r,a]}export{De as a,Ce as e,ye as i,Re as s};
